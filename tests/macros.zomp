

(template mapfunc name code
  (func int #name ((int param)) #code)
  )

(mapfunc incr (
  (var int r (int.add param 1))
  (ret r)
  ))
  
(func int main () (
  (template twice x (int.add #x #x))
  (incr (twice 100))
  ))

  
